# 3D模型交互功能说明文档

本功能模块基于 Three.js 实现，用于在网页中加载并交互展示 3D 模型，支持点击查看部件信息，适用于建筑展示、设备标注、产品讲解等场景。

## ✅ 核心功能一览

| 功能模块 | 描述 | 客户用途 | 开发备注 |
|----------|------|----------|-----------|
| 模型加载 | 支持 `.obj`,`.mtl`,`.ply` 材质文件 | 可加载建筑或产品模型 | 已经扩展为 `.ply` 格式 |
| 自动居中+缩放 | 模型加载后自动缩放并居中显示 | 无需手动拖动模型定位 | 适配不同模型尺寸 |
| 可交互点 | 可在指定位置添加交互点 | 突出展示重点部件（如窗户、空调） | 通过坐标配置 |
| 点击提示卡片 | 点击交互点弹出详细信息 | 查看部件说明、操作引导 | 使用 HTML 卡片，可拓展样式 |
| 悬停高亮 | 鼠标悬停交互点自动变色 | 提示该区域可点击 | 默认红色点 -> 高亮蓝色 |
| 悬浮文字标签 | 交互点可悬浮显示名称标签 | 强化部件识别性 | 可通过开关控制显示 |
| 信息卡片箭头 | 点击后信息卡片带箭头，指向部件 | 更直观贴近展示 | 箭头通过 CSS 渲染 |
| 点击获取坐标 | 鼠标点击模型任意处获取坐标 | 开发者标注交互点位置 | 支持右键探测点 |

## 🧩 示例使用场景

1. 建筑模型展示：点击窗户、空调、楼层入口查看说明  
2. 产品结构拆解：交互点标注每个结构模块并弹出解释  
3. 设备维护指引：通过点标识可维修部位，引导操作  

## 📌 使用说明

- 所有交互点通过配置数组注入，例如：

```js
{
  name: "窗户A",
  position: { x: 2.21, y: -0.93, z: -0.16 },
  description: "这是窗户A，可供开启或维护。"
}
```

- 模型加载通过以下函数调用：

```js
loadModel({
  objPath: "./path/model.obj",
  mtlPath: "./path/model.mtl" // 可选
});
```

- 信息卡片样式支持定制（背景、边框、字体），后续可对接后台数据。

## 🔧 后续可扩展点（客户与开发共识）

| 功能 | 说明 |
|------|------|
| 模型支持 `.glb` / `.gltf` | 性能更优，支持动画与PBR材质 |
| Vue 组件化封装 | 可接入业务系统，模块可复用 |
| 信息面板富文本支持 | 展示图文/视频/表单操作等 |
| 交互点动态加载 | 可从后台接口加载点位与说明 |
| 模型区域高亮/框选 | 实现更高级交互（如划选区域） |

如需继续扩展功能或接入业务系统，可随时沟通定制。


📦 加载 3D 模型前必须构建的核心对象（Three.js 模块依赖关系）
在 Three.js 中加载并展示一个 3D 模型之前，通常需要依次构建以下核心对象：

| 顺序 | 模块名     | 描述                                                | 封装建议         |
|------|------------|-----------------------------------------------------|------------------|
| ①    | `Scene`    | Three.js 的世界容器，所有模型、光源等都挂载在此对象上 | ✅ 已封装（必要） |
| ②    | `Camera`   | 相机对象，决定用户从哪个角度观察场景                  | ✅ 建议封装       |
| ③    | `Renderer` | 渲染器，将场景与相机组合渲染为图像输出至 HTML `<canvas>` | ✅ 强烈封装       |
| ④    | `Light`    | 光源，决定模型是否可见，至少需要一个环境光或平行光      | ✅ 可封装组合光源 |
| ⑤    | `Controls` | 鼠标控制器，允许用户旋转/缩放/拖拽                      | ✅ 建议封装       |
| ⑥    | `Loader`   | 加载器，用于加载 `.glb` / `.gltf` 模型文件             | ✅ 建议封装       |



[Scene] ← add ← [Model] ← loaded by [GLTFLoader]
         ↑
      [Camera] ← view scene from a position
         ↑
    [Renderer] ← render(scene, camera)
         ↑
    [DOM Canvas] ← appendChild(renderer.domElement)
         ↑
    [Controls] ← OrbitControls(camera, domElement)
         ↑
     Vue Component (e.g. RocketModel.vue)

