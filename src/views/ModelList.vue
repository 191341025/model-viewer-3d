<template>
  <div class="model-list-page">
    <h1 class="page-title">å¯æµè§ˆçš„ 3D æ¨¡å‹</h1>

    <div class="model-list">
      <el-card
        class="model-card"
        v-for="(model, index) in models"
        :key="index"
        shadow="hover"
        @click="handleClick(model)"
      >
        <div class="model-content">
          <!-- è‹¥ image å­˜åœ¨åˆ™å±•ç¤ºå›¾ç‰‡ï¼Œå¦åˆ™æ˜¾ç¤º icon -->
        <div class="model-thumb">
          <img
            v-if="model.image"
            :src="model.image"
            alt="é¢„è§ˆå›¾"
            class="model-image"
        />
          <img
            v-else
            :src="model.placeholderImage"
            alt="é¢„è§ˆå›¾"
            class="model-image"
          ></img>
        </div>
          <div class="model-info">
            <div class="model-name">{{ model.name }}</div>
            <div class="model-desc">{{ model.description }}</div>
          </div>
        </div>
      </el-card>
    </div>
  </div>
</template>

  
<script setup>
  import router from '../router'

  import { useUiStore } from '@/stores/uiStore'

  const uiStore = useUiStore()

  // âœ… å›åˆ°æ¨¡å‹åˆ—è¡¨æ—¶é‡ç½®çŠ¶æ€
  uiStore.reset()

  const models = [
    {
      name: 'KFCæ¥¼ä½“',
      image: '',
      placeholderImage: new URL('@/assets/images/3d.png', import.meta.url).href,
      description: 'ä¸€æ¬¾å±•ç¤ºKFCæ¥¼ä½“ç»“æ„çš„3Dæ¨¡å‹ã€‚',
      route: '/models/rocket',
      urls:  [
            import.meta.env.BASE_URL + '/rocket/floor2.ply',
            import.meta.env.BASE_URL + '/rocket/floor3.ply',
            import.meta.env.BASE_URL + '/rocket/main.ply'
            
        ]
    },
    {
      name: 'é’¢é“ä¾  IronMan',
      image: '',
      placeholderImage: new URL('@/assets/images/3d.png', import.meta.url).href,
      description: 'é’¢é“ä¾ è´´å›¾ç‰ˆ é©¬å…‹å‡ å·æˆ‘ä¹Ÿä¸æ™“å¾—',
      route: '/models/ironman' 
    },
    {
      name: 'å°é»„è½¦ Yellow Car',
      image: '',
      placeholderImage: new URL('@/assets/images/3d.png', import.meta.url).href,
      description: 'ä¸€è¾†åŸåœ°èµ·é£çš„å°é»„è½¦',
      route: '/models/car' 
    },
    {
      name: 'å»ºç­‘æ¨¡å‹',
      image: '',
      placeholderImage: new URL('@/assets/images/3d.png', import.meta.url).href,
      description: 'Buildingæ¨¡å‹ã€‚',
      route: '/models/rocket',
      urls: [
                import.meta.env.BASE_URL + '/buildings/F1-main.ply',
                import.meta.env.BASE_URL + '/buildings/F2-main.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-a.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-b.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-c.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-d.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-e.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-f.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-g.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-h.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-i.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-j.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-k.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-l.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-m.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-n.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-o.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-room1.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-room2.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-Hallway1.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-Hallway2.ply',
                // import.meta.env.BASE_URL + '/buildings/F1-wc.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-a.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-b.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-c.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-d.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-e.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-f.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-g.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-h.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-i.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-j.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-k.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-l.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-m.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-n.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-o.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-Hallway1.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-Hallway2.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-room1.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-room2.ply',
                // import.meta.env.BASE_URL + '/buildings/F2-wc.ply',
                // import.meta.env.BASE_URL + '/buildings/Stair-cass.ply',
                import.meta.env.BASE_URL + '/buildings/22-main-structure.ply'
            ]
    }
  ]

  function handleClick(model) {
    if (model.route) {
      router.push({
        path: model.route,          // æ¯”å¦‚ '/models/rocket'
        query: {
          urls: JSON.stringify(model.urls),  // éœ€è¦åºåˆ—åŒ–
          title: model.name // ğŸ‘ˆ åŠ ä¸Šæ ‡é¢˜åï¼ˆæ¯”å¦‚ 'KFCæ¨¡å‹'ï¼‰
        }
      })
    }
  }

</script>
  
<style scoped>
  .model-list-page {
    max-width: 900px;
    margin: 0 auto;
    padding: 40px 20px;
    background: linear-gradient(135deg, #143f3a, #4b676a);
    border-radius: 20px;
    min-height: 100vh;
  }

  .page-title {
    text-align: center;
    font-size: 28px;
    font-weight: bold;
    margin-bottom: 24px;
    color: #ffffff;
  }

  .model-list {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .model-card {
    border-radius: 12px;
    transition: transform 0.2s ease;
    cursor: pointer;
  }

  .model-card:hover {
    transform: translateY(-4px);
  }

  .model-content {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .model-image {
    width: 120px;
    height: 90px;
    object-fit: contain; /* âš ï¸ ä» cover æ”¹ä¸º contain */
    border-radius: 8px;
    background-color: #f0f0f0;
    padding: 6px; /* ç»™å›¾ç‰‡ç•™å‡ºè¾¹è· */
  }

  .model-info {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  .model-name {
    font-size: 18px;
    font-weight: 600;
    color: #333;
  }

  .model-desc {
    color: #666;
    font-size: 14px;
  }
  .model-thumb {
  width: 120px;
  height: 90px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f0f2f5;
  border-radius: 8px;
}


</style>
  